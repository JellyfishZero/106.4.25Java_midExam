class StudentT implements Comparable <StudentT> {    static int col;    String sno, name;    int chinese, english;    double average;    public StudentT(String sno, String name, int chinese, int english) {        this.sno = sno;        this.name=name;        this.chinese=chinese;        this.english=english;        this.average=Double.valueOf(this.chinese+this.english)/2;    }    public static void setCol(int c) {        col = c;    }    @Override    public int compareTo(StudentT o) {        if (col==0)              return sno.compareTo(o.sno);        else if (col==1)             return name.compareTo(o.name);        else if (col==2) {            if (chinese < o.chinese) return -1;            if (chinese > o.chinese) return 1;            return 0;        }else if(col==3){            if (english < o.english) return -1;            if (english > o.english) return 1;            return 0;        }else{            if(average<o.average)return -1;            if(average>o.average)return 1;            return 0;        }    }        public String toString() {        return String.format("%s %s %d %d %.2f", sno, name, chinese, english, average);    }}public class SCBF1050013 {    public static void main(String[] args) {        try {//          以下程式碼請不用修改, 請從 ??? 開始修改            URL url = new URL("http://einstein.nptu.edu.tw:9212/sources/datastructure/StudentWebs/data/20160330students.txt");            URLConnection conn = url.openConnection();            conn.setConnectTimeout(3000);            Scanner scan = new Scanner(conn.getInputStream());                        System.out.print("檔案內容:\n");                        ArrayList<StudentT> al = new ArrayList<>();            String header = scan.nextLine();  // 檔案內容第一行為標題, 不做分解            System.out.println(header);            double chtotal=0, engtotal=0;            while (scan.hasNextLine())            {                String a = scan.nextLine();                System.out.println(a);                String split[] = a.split("\t");                al.add(new StudentT(split[0],split[1],Integer.valueOf(split[2]),Integer.valueOf(split[3])));            }            System.out.printf("共有%d位學生\n", al.size());            scan.close();                        System.out.println("依學號排列後:");            Collections.sort(al);                        print(al, 0, 0);            System.out.println("依平均分數降冪排列後:");            StudentT.col=4;            Collections.sort(al, Collections.reverseOrder());                        print(al, 0, 0);        } catch (IOException ex) {            System.out.print(ex.getMessage());        }     }   
    private static void print(ArrayList<StudentT> al, double chavg, double engavg) {        int chCnt=0, engCnt=0;        for (StudentT e : al) {            System.out.println(e);            chavg += e.chinese;            engavg += e.english;        }        chavg/=al.size();        engavg/=al.size();        for (StudentT e : al) {            if(e.chinese<chavg)chCnt++;            if(e.english<engavg)engCnt++;        }        System.out.printf("國文平均為%.2f, 低於此分數的共有%d人, 英文平均為%.2f, 低於此分數的共有%d人\n", chavg, chCnt, engavg, engCnt);    }
    }
